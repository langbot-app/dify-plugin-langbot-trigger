identity:
  name: "langbot_trigger"
  author: "rockchinq"
  label:
    en_US: "langbot_trigger"
    zh_Hans: "langbot_trigger"
    pt_BR: "langbot_trigger"
    ja_JP: "langbot_trigger"
  description:
    en_US: "All-in-one platform for receiving message from IMs like QQ, WeChat, Telegram, Discord, Slack, Lark, DingTalk e.g."
    zh_Hans: "All-in-one platform for receiving message from IMs like QQ, WeChat, Telegram, Discord, Slack, Lark, DingTalk e.g."
    pt_BR: "All-in-one platform for receiving message from IMs like QQ, WeChat, Telegram, Discord, Slack, Lark, DingTalk e.g."
    ja_JP: "All-in-one platform for receiving message from IMs like QQ, WeChat, Telegram, Discord, Slack, Lark, DingTalk e.g."
  icon: "icon.svg"
  tags:
    - webhooks


subscription_schema: []
  # - name: "webhook_secret"
  #   type: "secret-input"
  #   required: false
  #   label:
  #     en_US: "Webhook Secret"
  #     zh_Hans: "Webhook 密钥"
  #     pt_BR: "Segredo do Webhook"
  #     ja_JP: "Webhookシークレット"
  #   help:
  #     en_US: "Optional shared secret used to validate inbound webhook signatures."
  #     zh_Hans: "用于验证 Webhook 签名的可选共享密钥。"
  #     pt_BR: "Segredo compartilhado opcional usado para validar assinaturas de webhook."
  #     ja_JP: "受信Webhookの署名を検証するためのオプションの共有シークレットです。"

subscription_constructor:
  parameters:
  - name: "events"
    type: "checkbox"
    multiple: true
    required: true
    default: ["bot_person_message", "bot_group_message"]
    options:
      - value: "bot_person_message"
        label:
          en_US: "Bot Person Message Received"
          zh_Hans: "Bot 收到个人消息"
          pt_BR: "Mensagem de Bot Pessoal Recebida"
          ja_JP: "Bot 個人メッセージ受信"
    label:
      en_US: "Events to Subscribe"
      zh_Hans: "订阅的事件"
      pt_BR: "Eventos para inscrever"
      ja_JP: "購読するイベント"
    help:
      en_US: "Select which trigger events should be delivered to this subscription."
      zh_Hans: "选择哪些触发事件应该推送到这个订阅。"
      pt_BR: "Selecione quais eventos de gatilho devem ser entregues para esta inscrição."
      ja_JP: "このサブスクリプションに配信するトリガーイベントを選択します。"

  - name: "skip_pipeline"
    type: "boolean"
    required: false
    default: false
    label:
      en_US: "Skip LangBot Pipeline"
      zh_Hans: "跳过 LangBot 管道"
      pt_BR: "Pular Pipeline do LangBot"
      ja_JP: "LangBot パイプラインをスキップ"
    help:
      en_US: "When enabled, instructs LangBot to skip pipeline processing for received messages. The messages will be treated as notifications only."
      zh_Hans: "启用后，指示 LangBot 跳过接收消息的管道处理。消息将仅作为通知处理。"
      pt_BR: "Quando habilitado, instrui o LangBot a pular o processamento de pipeline para mensagens recebidas. As mensagens serão tratadas apenas como notificações."
      ja_JP: "有効にすると、LangBot に受信メッセージのパイプライン処理をスキップするように指示します。メッセージは通知としてのみ扱われます。"

  credentials_schema: {}
    # api_key:
    #   type: "secret-input"
    #   required: false
    #   label:
    #     en_US: "API Key"
    #     zh_Hans: "API 密钥"
    #     pt_BR: "Chave de API"
    #     ja_JP: "APIキー"
    #   placeholder:
    #     en_US: "Paste your service API key"
    #     zh_Hans: "粘贴您的服务 API 密钥"
    #     pt_BR: "Cole sua chave de API do serviço"
    #     ja_JP: "サービスのAPIキーを貼り付けてください"
    #   help:
    #     en_US: "Used to authenticate requests to the third-party service."
    #     zh_Hans: "用于向第三方服务发起请求时进行身份验证。"
    #     pt_BR: "Usado para autenticar solicitações ao serviço de terceiros."
    #     ja_JP: "サードパーティサービスへのリクエストを認証するために使用します。"

events:
  - events/bot_person_message.yaml
  - events/bot_group_message.yaml

extra:
  python:
    source: provider/langbot_trigger.py
